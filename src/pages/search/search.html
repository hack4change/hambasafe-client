<ion-header>
  <ion-toolbar class="main-bar" color="primary">
    <ion-buttons class="order-left" start>
      <button ion-button icon-only *ngIf="activeType == 'TIME'" dark  menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <button ion-button icon-only *ngIf="activeType == 'DISTANCE'" (click)="toggleView('TIME')" clear>
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
      </button>
      <button ion-button icon-only *ngIf="activeType == 'SEARCH'" (click)="toggleView('DISTANCE')" clear>
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>
      Search
    </ion-title>
    <ion-buttons end>
      <button ion-button icon-only dark (click)="goHome()" class="indent">
        <ion-icon name="home"></ion-icon>
      </button>
      <button ion-button icon-only primary>
        <ion-icon isActive="true" name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
  <!-- <ion-toolbar color="primary"> -->
  <!--   <ion-buttons *ngIf="activeType == 'SEARCH'" start> -->
  <!--     <button ion-button icon-only (click)="toggleView('DISTANCE')"> -->
  <!--       <ion-icon light name="close-circle"></ion-icon> -->
  <!--     </button> -->
  <!--   </ion-buttons> -->
  <!-- </ion-toolbar> -->
</ion-header>

<ion-content [ngSwitch]="activeType">
  <ion-toolbar *ngIf="activeType !== 'DISTANCE'" color="primary">
    <ion-searchbar placeholder="Filter by activity">
    </ion-searchbar>
  </ion-toolbar>
  <!-- <ion-toolbar> -->
  <!--   <ion-item class="borderless"> -->
  <!--     <ion-label>Activity Type</ion-label> -->
  <!--     <ion-select [(ngModel)]="activityType"> -->
  <!--       <ion-option selected="true" value="">All</ion-option> -->
  <!--       <ion-option value="WALK">Walk</ion-option> -->
  <!--       <ion-option value="RUN">Run</ion-option> -->
  <!--       <ion-option value="CYCLE">Cycle</ion-option> -->
  <!--     </ion-select> -->
  <!--   </ion-item> -->
  <!-- </ion-toolbar> -->
  <template ngSwitchCase="TIME">
    <!-- <ion-toolbar class="buttonbar"> -->
    <!--   <button ion-button icon-only (click)="toggleView('TIME')" class="square-corner" [ngClass]="{active: isActive('TIME'), 'not-active': !isActive('TIME')}" clear block ion-row center> -->
    <!--     <ion-icon name="ios-time-outline" item-left></ion-icon> -->
    <!--   </button> -->
    <!--   <button ion-button icon-only (click)="toggleView('DISTANCE')" class="square-corner" clear block ion-row center> -->
    <!--     <ion-icon name="md-pin" item-left></ion-icon> -->
    <!--   </button> -->
    <!-- </ion-toolbar> -->
     <ion-fab right bottom>
 <!-- class="square-corner" -->
       <button ion-fab  icon-only (click)="toggleView('DISTANCE')" clear block ion-row center>
         <ion-icon name="md-pin" item-left></ion-icon>
       </button>
     </ion-fab>
    <ion-list>
      <activity-item *ngFor="let activity of activities$ | async" [activity]="activity"></activity-item>
    </ion-list>

  </template>
  <template ngSwitchCase="DISTANCE">
    <map #myMap [radius]="searchDistance"></map>
  </template>
  <template ngSwitchCase="SEARCH">
    <activity-item *ngFor="let activity of activities$ | async" [activity]="activity"></activity-item>
  </template>
</ion-content>

<ion-footer *ngIf="activeType=='DISTANCE'">
  <ion-toolbar>
    <ion-item class="no-border">
      <ion-range min="2" max="20" step="2" snaps="true" pin="false" [(ngModel)]="searchDistance" secondary>
      </ion-range>
    </ion-item>
  </ion-toolbar>
  <ion-toolbar>
    <button ion-button icon-only full block primary (click)="searchRadius()">
      Go!
    </button>
  </ion-toolbar>
</ion-footer>
